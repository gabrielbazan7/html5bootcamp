<!DOCTYPE HTML>
<html>
<head>
	<script src="https://code.jquery.com/jquery.js"></script>
	<style>
	/*#cajaimagen {
		float:left;
		width: 300px;
		margin:30px;
		border:1px solid red;
	}*/

	#zonadestino{
		float:left;
		width: : 500px;
		height: 500px;
		margin: 100px;
		border:1px solid blue;
	}
	</style>
</head>
<body>
	<div id="result"></div>
	<section id="zonadestino">
		drag a file or files here 
	</section>
	<!--<section id="cajaimagen">
	<img src="img.jpg" id="imagen" width="200px">
	</section>-->
	<div>
	<textarea id="area" rows="4" cols="50" placeholder="Write :)"></textarea>
	<button id="save">Save</button>
	<button id="erase">Erase</button>
	</div>

<script>
// Check browser support
if (typeof(Storage) != "undefined") {
    // Store
    localStorage.setItem("lastname", "Smith");
    // Retrieve
    document.getElementById("result").innerHTML = localStorage.getItem("lastname");
} else {
    document.getElementById("result").innerHTML = "Sorry, your browser does not support Web Storage...";
}
</script>

<script>

$("#save").click( function () {
	var textareaValue = document.getElementById("area").value;
	localStorage.setItem("list",textareaValue);
});

$("#erase").click( function () {
	localStorage.clear("list");
	location.reload()
});


if(localStorage.getItem("list")){
	var storedValue = localStorage.getItem("list");
    document.getElementById("area").value = storedValue;
}

</script>

<script >
/*

var elem_origin;
var elem_dest;

function start(){
	elem_origin = document.getElementById("imagen");
	elem_origin.addEventListener("dragstart", start_drag,false);

	elem_dest = document.getElementById("zonadestino");
	elem_dest.addEventListener("dragenter", function(e) {
		e.preventDefault();
	},false);

	elem_dest.addEventListener("dragover",function(e){
		e.preventDefault();
	},false);

	elem_dest.addEventListener("drop", dropped,false);

	elem_origin.addEventListener("dragend",end,false);
}

function start_drag(e){

	var code="<img src=' " + elem_origin.getAttribute("src") + " ' width=\"200px\">";

	e.dataTransfer.setData("text", code);

}

function dropped(e){
	e.preventDefault();
	elem_dest.innerHTML=e.dataTransfer.getData("text");
}

function end(e){
	var element=e.target;
	element.style.visibility="hidden";
}
window.addEventListener("load",start,false);
*/
</script>


<script >

var elem_origin;
var elem_dest;

function start(){

	elem_dest = document.getElementById("zonadestino");
	elem_dest.addEventListener("dragenter", function(e) {
		e.preventDefault();
	},false);

	elem_dest.addEventListener("dragover",function(e){
		e.preventDefault();
	},false);

	elem_dest.addEventListener("drop", dropped,false);

}

function dropped(e){
	e.preventDefault();
	var file = e.dataTransfer.files;
	var list="";

	for (var i = file.length - 1; i >= 0; i--) {
		list+="Name : " + file[i].name +  " Peso: " + (file[i].size/1024).toFixed(2) + " Type : " + file[i].type + "<br>";
	}

	elem_dest.innerHTML=list;
}

window.addEventListener("load",start,false);
</script>
</body>
</html>
